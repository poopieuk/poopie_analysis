profiles {
  standard {
    process {
      executor = 'local'
      cpus = 4
      memory = '8 GB'
      time = '2h'
    }
  }

  awsbatch {
    process {
      executor = 'awsbatch'
      queue = 'default'
      awscli = true
    }

    aws {
      region = 'us-east-1'
    }
  }

  seqera {
    // Automatically uses secrets from Seqera Cloud
    process {
      executor = 'awsbatch'
      container = 'continuumio/miniconda3'
      queue = 'default'
      awscli = true
      environment = [
        SUPABASE_URL: '${SUPABASE_URL}',
        SUPABASE_KEY: '${SUPABASE_KEY}',
        SUPABASE_BUCKET: '${SUPABASE_BUCKET}'
      ]
    }
  }
}

